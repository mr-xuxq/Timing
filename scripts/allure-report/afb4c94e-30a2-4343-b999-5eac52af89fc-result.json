{"name": "test_pointVanish", "status": "failed", "statusDetails": {"message": "AssertionError: assert True == False\n +  where True = <bound method Message.waitAndfind of <Pages.message_page.Message object at 0x000001B70853DE10>>(('id', 'com.huiian.timing:id/friend_msg_new_iv'), 1)\n +    where <bound method Message.waitAndfind of <Pages.message_page.Message object at 0x000001B70853DE10>> = <Pages.message_page.Message object at 0x000001B70853DE10>.waitAndfind\n +      where <Pages.message_page.Message object at 0x000001B70853DE10> = <bound method Page.message of <Pages.page.Page object at 0x000001B7085C75C0>>()\n +        where <bound method Page.message of <Pages.page.Page object at 0x000001B7085C75C0>> = <Pages.page.Page object at 0x000001B7085C75C0>.message\n +          where <Pages.page.Page object at 0x000001B7085C75C0> = <scripts.test_chat.Test_chat object at 0x000001B7085BEE10>.page\n +    and   ('id', 'com.huiian.timing:id/friend_msg_new_iv') = Message.messagePoint", "trace": "self = <scripts.test_chat.Test_chat object at 0x000001B7085BEE10>\n\n    @allure.story('聊天页面红点')\n    def test_pointVanish(self):\n        with allure.step('进入消息页面'):\n            self.page.message().click_message(Message.messageBtn)\n        with allure.step('滑动页面找红点，找到就点击进入再返回'):\n            i = 0\n            while i < 1:\n                #如果消息页面channel红点存在\n                if self.page.message().waitAndfind(Message.messagePoint, 1) == True:\n                    #点击进入\n                    self.page.message().click_message(Message.messagePoint)\n                    if self.page.chat().waitAndfind(Chat.groupMore, 1) == True:\n                        with allure.step('如果红点类型是讨论组和打卡群时，点击进入成员动态页，再返回至消息页'):\n                            self.page.chat().click_chat(Chat.groupMore)\n                            self.page.chat().click_chat(Chat.groupActive)\n                            time.sleep(10)\n                            # 返回至消息页\n                            self.driver.press_keycode(4)\n                            self.driver.press_keycode(4)\n                            self.driver.press_keycode(4)\n                    elif self.page.chat().waitAndfind(Chat.groupChat, 1) == True:\n                        with allure.step('如果红点类型是契约群时，点击进入聊天页，再返回至消息页'):\n                            self.page.chat().click_chat(Chat.groupActive)\n                            time.sleep(5)\n                            self.page.chat().click_chat(Chat.groupChat)\n                            time.sleep(5)\n                            self.driver.press_keycode(4)\n                    else:\n                        with allure.step('如果红点类型是道友聊天和学习数据时，点击进入，再返回至消息页'):\n                            self.driver.press_keycode(4)\n                else:\n                    with allure.step('如果没有找到红点，上滑页面继续找红点'):\n                        self.page.message().swipeByMy(0.5, 0.7, 0.5, 0.3, 150)\n                        i += 1\n        with allure.step('校验结果：如果页面还存在红点——>失败'):\n>           assert self.page.message().waitAndfind(Message.messagePoint,1) == False\nE           AssertionError: assert True == False\nE            +  where True = <bound method Message.waitAndfind of <Pages.message_page.Message object at 0x000001B70853DE10>>(('id', 'com.huiian.timing:id/friend_msg_new_iv'), 1)\nE            +    where <bound method Message.waitAndfind of <Pages.message_page.Message object at 0x000001B70853DE10>> = <Pages.message_page.Message object at 0x000001B70853DE10>.waitAndfind\nE            +      where <Pages.message_page.Message object at 0x000001B70853DE10> = <bound method Page.message of <Pages.page.Page object at 0x000001B7085C75C0>>()\nE            +        where <bound method Page.message of <Pages.page.Page object at 0x000001B7085C75C0>> = <Pages.page.Page object at 0x000001B7085C75C0>.message\nE            +          where <Pages.page.Page object at 0x000001B7085C75C0> = <scripts.test_chat.Test_chat object at 0x000001B7085BEE10>.page\nE            +    and   ('id', 'com.huiian.timing:id/friend_msg_new_iv') = Message.messagePoint\n\ntest_chat.py:130: AssertionError"}, "steps": [{"name": "进入消息页面", "status": "passed", "start": 1585822291599, "stop": 1585822296761}, {"name": "滑动页面找红点，找到就点击进入再返回", "status": "passed", "steps": [{"name": "如果红点类型是道友聊天和学习数据时，点击进入，再返回至消息页", "status": "passed", "start": 1585822404879, "stop": 1585822404925}, {"name": "如果没有找到红点，上滑页面继续找红点", "status": "passed", "start": 1585822456965, "stop": 1585822457135}], "start": 1585822296761, "stop": 1585822457135}, {"name": "校验结果：如果页面还存在红点——>失败", "status": "failed", "statusDetails": {"message": "AssertionError: assert True == False\n +  where True = <bound method Message.waitAndfind of <Pages.message_page.Message object at 0x000001B70853DE10>>(('id', 'com.huiian.timing:id/friend_msg_new_iv'), 1)\n +    where <bound method Message.waitAndfind of <Pages.message_page.Message object at 0x000001B70853DE10>> = <Pages.message_page.Message object at 0x000001B70853DE10>.waitAndfind\n +      where <Pages.message_page.Message object at 0x000001B70853DE10> = <bound method Page.message of <Pages.page.Page object at 0x000001B7085C75C0>>()\n +        where <bound method Page.message of <Pages.page.Page object at 0x000001B7085C75C0>> = <Pages.page.Page object at 0x000001B7085C75C0>.message\n +          where <Pages.page.Page object at 0x000001B7085C75C0> = <scripts.test_chat.Test_chat object at 0x000001B7085BEE10>.page\n +    and   ('id', 'com.huiian.timing:id/friend_msg_new_iv') = Message.messagePoint\n", "trace": "  File \"C:\\Users\\Administrator\\Documents\\Timing-miss-rxr\\scripts\\test_chat.py\", line 130, in test_pointVanish\n    assert self.page.message().waitAndfind(Message.messagePoint,1) == False\n"}, "start": 1585822457135, "stop": 1585822459404}], "start": 1585822291599, "stop": 1585822459405, "uuid": "490468f2-09e3-455e-97e1-47ba9fc66c81", "historyId": "4d8351af93228df61fd61da51a61b404", "testCaseId": "c21272d8b9cc6f346d135ed82d16b5fb", "fullName": "test_chat.Test_chat#test_pointVanish", "labels": [{"name": "feature", "value": "聊天页功能"}, {"name": "story", "value": "聊天页面红点"}, {"name": "suite", "value": "test_chat"}, {"name": "subSuite", "value": "Test_chat"}, {"name": "host", "value": "PC-201905121411"}, {"name": "thread", "value": "9404-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_chat"}]}