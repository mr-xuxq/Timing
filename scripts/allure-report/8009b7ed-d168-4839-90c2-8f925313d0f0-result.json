{"name": "test_pointVanish", "status": "failed", "statusDetails": {"message": "AssertionError: assert True == False\n +  where True = <bound method Message.waitAndfind of <Pages.message_interaction.message_page.Message object at 0x0000018535DD7630>>(('id', 'com.huiian.timing:id/friend_msg_new_iv'), 1)\n +    where <bound method Message.waitAndfind of <Pages.message_interaction.message_page.Message object at 0x0000018535DD7630>> = <Pages.message_interaction.message_page.Message object at 0x0000018535DD7630>.waitAndfind\n +      where <Pages.message_interaction.message_page.Message object at 0x0000018535DD7630> = <bound method Page.message of <Pages.page.Page object at 0x0000018535E0FF98>>()\n +        where <bound method Page.message of <Pages.page.Page object at 0x0000018535E0FF98>> = <Pages.page.Page object at 0x0000018535E0FF98>.message\n +          where <Pages.page.Page object at 0x0000018535E0FF98> = <scripts.test_022_friendChat.Test_friendChat object at 0x0000018535DD7F60>.page\n +    and   ('id', 'com.huiian.timing:id/friend_msg_new_iv') = Message.messagePoint", "trace": "self = <scripts.test_022_friendChat.Test_friendChat object at 0x0000018535DD7F60>\n\n    @allure.story('聊天页面红点')\n    def test_pointVanish(self):\n        with allure.step('进入消息页面'):\n            self.page.message().click_message(Message.messageBtn)\n        with allure.step('滑动页面找红点，找到就点击进入再返回'):\n            i = 0\n            while i < 1:\n                #如果消息页面channel红点存在\n                if self.page.message().waitAndfind(Message.messagePoint, 1) == True:\n                    #点击进入\n                    self.page.message().click_message(Message.messagePoint)\n                    if self.page.friend_chat().waitAndfind(Friend_chat.groupMore, 1) == True:\n                        with allure.step('如果红点类型是讨论组和打卡群时，点击进入成员动态页，再返回至消息页'):\n                            self.page.friend_chat().click_chat(Friend_chat.groupMore)\n                            self.page.friend_chat().click_chat(Friend_chat.groupActive)\n                            time.sleep(10)\n                            # 返回至消息页\n                            self.driver.press_keycode(4)\n                            self.driver.press_keycode(4)\n                            self.driver.press_keycode(4)\n                    elif self.page.friend_chat().waitAndfind(Friend_chat.groupChat, 1) == True:\n                        with allure.step('如果红点类型是契约群时，点击进入聊天页，再返回至消息页'):\n                            self.page.friend_chat().click_chat(Friend_chat.groupActive)\n                            time.sleep(5)\n                            self.page.friend_chat().click_chat(Friend_chat.groupChat)\n                            time.sleep(5)\n                            self.driver.press_keycode(4)\n                    else:\n                        with allure.step('如果红点类型是道友聊天和学习数据时，点击进入，再返回至消息页'):\n                            self.driver.press_keycode(4)\n                else:\n                    with allure.step('如果没有找到红点，上滑页面继续找红点'):\n                        self.page.message().swipeByMy(0.5, 0.7, 0.5, 0.3, 150)\n                        i += 1\n        with allure.step('校验结果：如果页面还存在红点——>失败'):\n>           assert self.page.message().waitAndfind(Message.messagePoint,1) == False\nE           AssertionError: assert True == False\nE            +  where True = <bound method Message.waitAndfind of <Pages.message_interaction.message_page.Message object at 0x0000018535DD7630>>(('id', 'com.huiian.timing:id/friend_msg_new_iv'), 1)\nE            +    where <bound method Message.waitAndfind of <Pages.message_interaction.message_page.Message object at 0x0000018535DD7630>> = <Pages.message_interaction.message_page.Message object at 0x0000018535DD7630>.waitAndfind\nE            +      where <Pages.message_interaction.message_page.Message object at 0x0000018535DD7630> = <bound method Page.message of <Pages.page.Page object at 0x0000018535E0FF98>>()\nE            +        where <bound method Page.message of <Pages.page.Page object at 0x0000018535E0FF98>> = <Pages.page.Page object at 0x0000018535E0FF98>.message\nE            +          where <Pages.page.Page object at 0x0000018535E0FF98> = <scripts.test_022_friendChat.Test_friendChat object at 0x0000018535DD7F60>.page\nE            +    and   ('id', 'com.huiian.timing:id/friend_msg_new_iv') = Message.messagePoint\n\ntest_022_friendChat.py:130: AssertionError"}, "steps": [{"name": "进入消息页面", "status": "passed", "start": 1586140740717, "stop": 1586140751931}, {"name": "滑动页面找红点，找到就点击进入再返回", "status": "passed", "steps": [{"name": "如果红点类型是讨论组和打卡群时，点击进入成员动态页，再返回至消息页", "status": "passed", "start": 1586140757269, "stop": 1586140780114}, {"name": "如果红点类型是讨论组和打卡群时，点击进入成员动态页，再返回至消息页", "status": "passed", "start": 1586140783119, "stop": 1586140805867}, {"name": "如果红点类型是道友聊天和学习数据时，点击进入，再返回至消息页", "status": "passed", "start": 1586140911538, "stop": 1586140911585}, {"name": "如果红点类型是讨论组和打卡群时，点击进入成员动态页，再返回至消息页", "status": "passed", "start": 1586140913744, "stop": 1586140926461}, {"name": "如果红点类型是讨论组和打卡群时，点击进入成员动态页，再返回至消息页", "status": "passed", "start": 1586140929181, "stop": 1586140941547}, {"name": "如果没有找到红点，上滑页面继续找红点", "status": "passed", "start": 1586140994309, "stop": 1586140994447}], "start": 1586140751932, "stop": 1586140994447}, {"name": "校验结果：如果页面还存在红点——>失败", "status": "failed", "statusDetails": {"message": "AssertionError: assert True == False\n +  where True = <bound method Message.waitAndfind of <Pages.message_interaction.message_page.Message object at 0x0000018535DD7630>>(('id', 'com.huiian.timing:id/friend_msg_new_iv'), 1)\n +    where <bound method Message.waitAndfind of <Pages.message_interaction.message_page.Message object at 0x0000018535DD7630>> = <Pages.message_interaction.message_page.Message object at 0x0000018535DD7630>.waitAndfind\n +      where <Pages.message_interaction.message_page.Message object at 0x0000018535DD7630> = <bound method Page.message of <Pages.page.Page object at 0x0000018535E0FF98>>()\n +        where <bound method Page.message of <Pages.page.Page object at 0x0000018535E0FF98>> = <Pages.page.Page object at 0x0000018535E0FF98>.message\n +          where <Pages.page.Page object at 0x0000018535E0FF98> = <scripts.test_022_friendChat.Test_friendChat object at 0x0000018535DD7F60>.page\n +    and   ('id', 'com.huiian.timing:id/friend_msg_new_iv') = Message.messagePoint\n", "trace": "  File \"D:\\Timing\\scripts\\test_022_friendChat.py\", line 130, in test_pointVanish\n    assert self.page.message().waitAndfind(Message.messagePoint,1) == False\n"}, "start": 1586140994447, "stop": 1586140997139}], "start": 1586140740717, "stop": 1586140997140, "uuid": "d8144700-1200-4b6a-a7ec-dd26a0a4193c", "historyId": "de8dd0a09b520a4d8333f6a611c427ef", "testCaseId": "5c4918eeba837149f809f1560b93c466", "fullName": "test_022_friendChat.Test_friendChat#test_pointVanish", "labels": [{"name": "feature", "value": "聊天页功能"}, {"name": "story", "value": "聊天页面红点"}, {"name": "suite", "value": "test_022_friendChat"}, {"name": "subSuite", "value": "Test_friendChat"}, {"name": "host", "value": "PC-201905121411"}, {"name": "thread", "value": "3860-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_022_friendChat"}]}